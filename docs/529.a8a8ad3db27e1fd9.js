"use strict";(self.webpackChunk_1PF_Soto=self.webpackChunk_1PF_Soto||[]).push([[529],{3529:(L,f,o)=>{o.r(f),o.d(f,{EnrollmentsModule:()=>B});var c=o(177),p=o(5743),e=o(9640);const l=(0,e.EQ)({source:"Enrollment",events:{"Load Enrollments":(0,e.w5)(),"Load Courses Options":(0,e.w5)(),"Load Students Options":(0,e.w5)(),"Create Enrollment":(0,e.xk)()}}),h="enrollment",E=[{id:"a2n3",studentId:"asd2",courseId:"123w"}],v=[{createdAt:new Date,firstName:"capo",id:1234,lastName:"peque",mail:"mail@mail.com"},{createdAt:new Date,firstName:"raro",id:1334,lastName:"rarp",mail:"mail@msn.com"},{createdAt:new Date,firstName:"river",id:2234,lastName:"carp",mail:"mail@monumental.com"}],C=[{id:3123,endDate:new Date,startDate:new Date,name:"loquepinteinscribiteporfavor"}],S=(0,e.vy)({enrollments:[],students:[],courses:[]},(0,e.on)(l.loadEnrollments,n=>({...n,enrollments:[...E]})),(0,e.on)(l.loadCoursesOptions,n=>({...n,courses:[...C]})),(0,e.on)(l.loadStudentsOptions,n=>({...n,students:[...v]})),(0,e.on)(l.createEnrollment,(n,i)=>({...n,enrollments:[...E,{id:"12221",studentId:i.studentId,courseId:i.courseId}]}))),$=(0,e.VG)({name:h,reducer:S}),d=(0,e.UX)(h),O=(0,e.Mz)(d,n=>n.enrollments),D=(0,e.Mz)(d,n=>n.courses),N=(0,e.Mz)(d,n=>n.students);var a=o(9417),t=o(7705),T=o(8834),F=o(6467),j=o(2798),y=o(6600);function M(n,i){if(1&n&&(t.j41(0,"mat-option",6),t.EFF(1),t.k0s()),2&n){const s=i.$implicit;t.Y8G("value",s.id),t.R7$(1),t.SpI(" ",s.name," ")}}function G(n,i){if(1&n&&(t.j41(0,"mat-option",6),t.EFF(1),t.k0s()),2&n){const s=i.$implicit;t.Y8G("value",s.id),t.R7$(1),t.SpI(" ",s.firstName+" "+s.lastName," ")}}const g=[{path:"",component:(()=>{class n{constructor(s,r){this.store=s,this.fb=r,this.enrollments$=this.store.select(O),this.studentsOptions$=this.store.select(N),this.coursesOptions$=this.store.select(D),this.enrollmentForm=this.fb.group({courseId:[null,[a.k0.required]],studentId:[null,[a.k0.required]]})}ngOnInit(){this.store.dispatch(l.loadEnrollments()),this.store.dispatch(l.loadCoursesOptions()),this.store.dispatch(l.loadStudentsOptions())}onSubmit(){this.enrollmentForm.invalid?this.enrollmentForm.markAllAsTouched():(this.store.dispatch(l.createEnrollment(this.enrollmentForm.value)),this.enrollmentForm.reset())}static{this.\u0275fac=function(r){return new(r||n)(t.rXU(e.il),t.rXU(a.ok))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-enrollments"]],decls:19,vars:12,consts:[[3,"formGroup"],["appearance","outline"],["formControlName","courseId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","studentId"],["mat-flat-button","",3,"click"],[3,"value"]],template:function(r,m){1&r&&(t.j41(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),t.EFF(3,"Selecciona un curso"),t.k0s(),t.j41(4,"mat-select",2),t.DNE(5,M,2,2,"mat-option",3),t.nI1(6,"async"),t.k0s()(),t.j41(7,"mat-form-field",1)(8,"mat-label"),t.EFF(9,"Selecciona un curso"),t.k0s(),t.j41(10,"mat-select",4),t.DNE(11,G,2,2,"mat-option",3),t.nI1(12,"async"),t.k0s()(),t.j41(13,"button",5),t.bIt("click",function(){return m.onSubmit()}),t.EFF(14," Enviar "),t.k0s()(),t.j41(15,"p"),t.EFF(16),t.nI1(17,"json"),t.nI1(18,"async"),t.k0s()),2&r&&(t.Y8G("formGroup",m.enrollmentForm),t.R7$(5),t.Y8G("ngForOf",t.bMT(6,4,m.coursesOptions$)),t.R7$(6),t.Y8G("ngForOf",t.bMT(12,6,m.studentsOptions$)),t.R7$(5),t.JRh(t.bMT(17,8,t.bMT(18,10,m.enrollments$))))},dependencies:[c.Sq,T.$z,F.rl,F.nJ,a.qT,a.BC,a.cb,a.j4,a.JD,j.VO,y.wT,c.Jj,c.TG]})}}return n})()}];let R=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(g),p.iI]})}}return n})();var u=o(6157),k=o(274),A=o(983);let U=(()=>{class n{constructor(s){this.actions$=s,this.loadEnrollments$=(0,u.EH)(()=>this.actions$.pipe((0,u.gp)(l.loadEnrollments),(0,k.H)(()=>A.w)))}static{this.\u0275fac=function(r){return new(r||n)(t.KVO(u.En))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();var b=o(3887);let B=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[c.MD,R,e.md.forFeature($),u.Vm.forFeature([U]),b.G]})}}return n})()}}]);